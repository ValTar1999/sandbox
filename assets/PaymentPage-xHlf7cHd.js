import{r as a,j as e,c as I,I as w,B as b,u as Ne,a as A,d as Ye}from"./index-B9jptwI9.js";import{B as Ce,R as we,L as Se,M as Xe,p as se,W as es,S as ss,C as as}from"./PaymentStepProgress-Bjd5zmL-.js";import{V as ke,I as De,C as ts,f as ee,D as ve,W as U,P as ns}from"./PaymentSubmittedModal-DAfo4dFy.js";function je({title:l,children:x,className:u}){const[o,c]=a.useState(!1);return e.jsxs("div",{className:I("overflow-hidden",u),children:[e.jsxs("div",{onClick:()=>c(!o),role:"button",tabIndex:0,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),c(!o))},className:"w-full flex justify-between items-center border-b border-gray-200 py-4 text-left transition cursor-pointer select-none",children:[e.jsx("span",{className:"text-lg font-medium text-gray-900",children:l}),e.jsx(w,{icon:"chevron-down",className:I("h-5 w-5 text-gray-400 transition-transform duration-300",{"rotate-180":o})})]}),e.jsx("div",{className:I("transition-all duration-500 mt-6",{"max-h-0 overflow-hidden":!o,"max-h-[500px]":o}),children:x})]})}const Me="data:image/svg+xml,%3csvg%20width='24'%20height='17'%20viewBox='0%200%2024%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='24'%20height='16.125'%20rx='4'%20fill='%2301326F'/%3e%3cpath%20d='M14.1557%204.08301H9.72656V12.0429H14.1557V4.08301Z'%20fill='%23FF5F00'/%3e%3cpath%20d='M10.0063%208.0636C10.0055%207.2969%2010.1792%206.54006%2010.5141%205.8504C10.8491%205.16074%2011.3366%204.55634%2011.9397%204.08296C11.193%203.49609%2010.2962%203.13115%209.3518%203.02985C8.40745%202.92855%207.45365%203.09498%206.59941%203.51011C5.74517%203.92524%205.02496%204.57233%204.52108%205.37742C4.01721%206.18251%203.75%207.11312%203.75%208.06289C3.75%209.01266%204.01721%209.94327%204.52108%2010.7484C5.02496%2011.5535%205.74517%2012.2005%206.59941%2012.6157C7.45365%2013.0308%208.40745%2013.1972%209.3518%2013.0959C10.2962%2012.9946%2011.193%2012.6297%2011.9397%2012.0428C11.3368%2011.5696%2010.8494%2010.9654%2010.5144%2010.276C10.1795%209.58662%2010.0057%208.83006%2010.0063%208.0636Z'%20fill='%23EB001B'/%3e%3cpath%20d='M20.1319%208.0632C20.1318%209.01304%2019.8646%209.94371%2019.3606%2010.7488C18.8566%2011.5539%2018.1363%2012.201%2017.282%2012.6161C16.4276%2013.0312%2015.4737%2013.1975%2014.5293%2013.096C13.5849%2012.9946%2012.6881%2012.6295%2011.9414%2012.0424C12.5441%2011.5688%2013.0313%2010.9644%2013.3664%2010.275C13.7014%209.58556%2013.8755%208.82904%2013.8755%208.0625C13.8755%207.29596%2013.7014%206.53944%2013.3664%205.85C13.0313%205.16056%2012.5441%204.55622%2011.9414%204.08257C12.6881%203.49552%2013.5849%203.1304%2014.5293%203.02896C15.4737%202.92751%2016.4276%203.09383%2017.282%203.5089C18.1363%203.92398%2018.8566%204.57105%2019.3606%205.37617C19.8646%206.18129%2020.1318%207.11196%2020.1319%208.0618V8.0632Z'%20fill='%23F79E1B'/%3e%3c/svg%3e",Pe=({variant:l="bank",smartDisburseContacts:x=[]})=>{const[u,o]=a.useState(!1),c=l==="card",m=l==="smart-disburse",f=x.find(h=>h.type==="email"),d=x.find(h=>h.type==="phone"),v=m?[{label:"Email",value:(f==null?void 0:f.value)??"-"},{label:"Phone Number",value:(d==null?void 0:d.value)??"-"}]:c?[{label:"Name on Card",value:"Johnny Anderson"},{label:"Number",value:u?"5454 8282 8282 8282":"••••8282"},{label:"CVC2",value:u?"123":"•••"},{label:"Expires",value:"12 / 2024"},{label:"Type",value:e.jsx("img",{src:Me,alt:"Mastercard",className:"h-4 w-6"})},{label:"Billing Address",value:e.jsxs("div",{children:[e.jsx("div",{children:"3476 Orphan Road"}),e.jsx("div",{children:"Hayward, Wisconsin, 54843,"}),e.jsx("div",{children:"United States"})]})}]:[{label:"Account Holder Name",value:"Big Kahuna Burger Ltd"},{label:"Routing Number",value:u?"123455667":"•••••5667"},{label:"Account Number",value:u?"09886785764625615":"••••••••••••5615"},{label:"Address",value:e.jsxs("div",{children:[e.jsx("div",{children:"1 Chapel Hill Rd"}),e.jsx("div",{children:"Heswall, Short Hills"}),e.jsx("div",{children:"NJ 07078, US"})]})}],i=c?"mb-4 rounded-lg border border-gray-200 bg-white":"mb-4 rounded-lg border border-gray-200 bg-gray-50",g=c?"border-b border-gray-200 bg-gray-100 px-4 py-2":"flex items-center justify-between border-b border-gray-200 bg-gray-100 px-4 py-2",B=m?"SMART Disburse Details":c?"Card Details":"Account Details";return e.jsxs("div",{className:i,children:[e.jsxs("div",{className:g,children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 leading-5",children:B}),!c&&!m&&e.jsx(b,{variant:"linkSecondary",icon:"pencil",iconDirection:"right",size:"xs",children:"Edit"})]}),e.jsxs("div",{className:"px-4 py-4 bg-gray-50",children:[e.jsx("div",{className:"grid grid-cols-2 gap-y-2 text-sm leading-5",children:v.map(h=>e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"text-gray-900 font-medium",children:h.label}),e.jsx("div",{className:"text-gray-700",children:h.value})]},h.label))}),!m&&e.jsx("div",{className:"mt-2 grid grid-cols-2",children:e.jsx(b,{variant:"linkPrimary",icon:u?"eye-off":"eye",iconDirection:"left",size:"sm",onClick:()=>o(h=>!h),className:"col-start-2 justify-self-start -ml-1.5",children:u?"Hide Details":"Reveal Details"})})]})]})},ls=({payment:l})=>{const x=Ne(),u=()=>x(-1);return e.jsx(Ce,{className:"max-w-7xl mx-auto",header:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{variant:"add_on",icon:"arrow-left",onClick:u}),e.jsx("span",{className:"text-lg font-medium text-gray-900 ml-4",children:"Multi-Party Payment"})]}),e.jsx(we,{})]}),footer:e.jsx("div",{className:"flex items-center gap-2 w-full justify-end",children:e.jsxs(b,{size:"md",children:["Pay: ",l.totalAmount]})}),children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[e.jsx("span",{className:"text-gray-900",children:l.totalAmount})," ",e.jsx("span",{className:"text-gray-500",children:l.amountValute})]}),l.status==="unprocessed"&&e.jsx(A,{icon:"flag",iconDirection:"left",children:"Unprocessed"}),l.status==="processed"&&e.jsx(A,{color:"blue",icon:"in-progress",iconDirection:"left",children:"Processing"}),l.status==="paid"&&e.jsx(A,{color:"green",icon:"check-circle",iconDirection:"left",children:"Paid"}),l.status==="failed"&&e.jsx(A,{color:"red",icon:"check-circle",iconDirection:"left",children:"Failed"})]})})}),e.jsxs("div",{className:"flex flex-wrap gap-6 border-y border-gray-200 py-5",children:[e.jsxs("div",{className:"font-medium",children:[e.jsx("div",{className:"text-xs uppercase text-gray-500 mb-1 tracking-wider",children:"Due date"}),e.jsx("span",{className:"text-base text-gray-700",children:l.dueDate})]}),e.jsx("div",{className:"flex h-auto w-px bg-gray-300"}),e.jsxs("div",{className:"font-medium",children:[e.jsx("div",{className:"text-xs uppercase text-gray-500 mb-1 tracking-wider",children:"Payee"}),e.jsx("span",{className:"text-base text-gray-700",children:l.payee})]}),e.jsx("div",{className:"flex h-auto w-px bg-gray-300"}),e.jsxs("div",{className:"font-medium",children:[e.jsx("div",{className:"text-xs uppercase text-gray-500 mb-1 tracking-wider",children:"Bill reference"}),e.jsx("span",{className:"text-base text-gray-700",children:l.billReference})]})]}),e.jsx("div",{className:"pt-6",children:e.jsx(ke,{payment:l})})]})})},is=({open:l,onClose:x,onConfirm:u,paymentMethod:o,sendingMethod:c,contactEmail:m,smartDisburseContacts:f})=>{var i,g;if(!l)return null;const d=o==="card",v=o==="smart-disburse";return e.jsx(Se,{children:e.jsx(Xe,{className:"w-125",footer:e.jsxs("div",{className:"flex items-center justify-end gap-6",children:[e.jsx(b,{variant:"secondary",size:"lg",onClick:x,children:"Cancel"}),e.jsx(b,{size:"lg",onClick:d?x:u,children:"Pay Now"})]}),children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 text-2xl",children:[e.jsx("div",{className:"font-bold",children:(i=se[0])==null?void 0:i.totalAmount}),e.jsx("div",{className:"text-gray-500",children:(g=se[0])==null?void 0:g.amountValute})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex rounded-md border border-gray-200 bg-gray-50 px-4 py-3 text-sm",children:e.jsxs("div",{className:"grid grid-cols-2 items-start text-start gap-6",children:[e.jsx("div",{className:"font-medium",children:"Origination Account"}),e.jsx("div",{className:"text-gray-700",children:"Secondary Bank Account ••••1010"})]})}),e.jsx("div",{className:"my-1.5 flex items-center justify-center",children:e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 rounded-full bg-gray-50 ring-2 ring-inset ring-gray-200",children:e.jsx(w,{icon:"arrow-down",className:"m-auto text-gray-500"})})}),e.jsx(Pe,{variant:v?"smart-disburse":d?"card":"bank",smartDisburseContacts:f}),!d&&!v&&e.jsx(De,{color:"blue",icon:"information-circle",title:'If your Routing Number, Account Number or Address records (as registered under the bank account) are no longer accurate, please update the details in your ERP. Once your details are updated, please "Refresh" to reflect the changes.'}),d&&c==="delivery"&&!!m&&e.jsxs("div",{className:"mt-4 rounded-lg border border-gray-200 bg-white",children:[e.jsx("div",{className:"border-b border-gray-200 bg-gray-100 px-4 py-2",children:e.jsx("div",{className:"text-sm font-semibold text-gray-900 leading-5",children:"Contact Details"})}),e.jsx("div",{className:"px-4 py-4 bg-gray-50",children:e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-sm leading-5",children:[e.jsx("div",{className:"text-gray-900 font-medium",children:"Email"}),e.jsx("div",{className:"text-gray-700",children:m})]})})]})]}),e.jsx(ts,{title:"Make default payment method",subtitle:"Checking this means next time you make a payment it will be pre-selected. You can change it anytime in <a href='#' class='text-blue-600 font-medium'>vendor profile</a>."})]})})})},rs=(l,x,u,o,c,m)=>{const f=[],d=new Date(l),v=new Date(x);for(;d<=v;){const i=d.toISOString().split("T")[0],g={date:i,isCurrentMonth:d.getMonth()+1===u};i===o&&(g.isToday=!0),i===c&&(g.isSelected=!0),i===m&&(g.due=!0),f.push(g),d.setDate(d.getDate()+1)}return f},cs=({startDate:l,endDate:x,month:u,today:o,selected:c,due:m,date:f="August 2023",className:d,...v})=>{const i={startDate:"2023-07-27",endDate:"2023-09-06",month:8,today:"2023-08-04",due:"2023-08-13"},g=l||i.startDate,B=x||i.endDate,h=u||i.month,k=o||i.today,V=m||i.due,y=rs(g,B,h,k,c||k,V);return e.jsxs("div",{className:I("w-full text-center",d),...v,children:[e.jsxs("div",{className:"flex items-center border-b border-gray-200 px-6 py-2 text-gray-900",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{iconVariant:"bicolor",icon:"angle-double-left",size:"lg",variant:"linkSecondary"}),e.jsx(b,{iconVariant:"bicolor",icon:"angle-left",size:"lg",variant:"linkSecondary"})]}),e.jsx("div",{className:"flex-auto text-base font-semibold",children:f}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{iconVariant:"bicolor",icon:"angle-right",size:"lg",variant:"linkSecondary"}),e.jsx(b,{iconVariant:"bicolor",icon:"angle-double-right",size:"lg",variant:"linkSecondary"})]})]}),e.jsx("div",{className:"mx-6 mt-6 grid grid-cols-7 text-sm leading-6 text-gray-500",children:["M","T","W","T","F","S","S"].map(j=>e.jsx("div",{children:j},j))}),e.jsx("div",{className:"mx-6 mt-2 grid grid-cols-7 gap-px overflow-hidden rounded-lg bg-gray-200 text-sm shadow ring-1 ring-gray-200",children:y.map(j=>e.jsxs("button",{type:"button",className:I("py-1.5 hover:bg-gray-100 focus-visible:z-10 cursor-pointer transition-colors duration-300",j.isCurrentMonth?"bg-white text-gray-900":"bg-gray-50 text-gray-400",j.isToday&&"text-smart-main"),children:[e.jsx("time",{dateTime:j.date,className:I("mx-auto flex h-7 w-7 items-center justify-center rounded-full font-medium",j.isSelected&&"bg-smart-main text-white"),children:new Date(j.date).getDate()}),j.due&&e.jsx("div",{className:"-mb-2 -mt-2 text-[7px] font-semibold text-red-500",children:"DUE DATE"})]},j.date))})]})},ds=({open:l,onClose:x,onConfirm:u,dueDate:o,selectedIndex:c,setSelectedIndex:m,onSelectDate:f})=>{if(!l)return null;const d=[{label:"Tomorrow morning",date:new Date(2025,7,5,9,0)},{label:"Monday morning",date:new Date(2025,7,10,9,0)},{label:"Due date",date:o?new Date(o):new Date}],v=i=>{m(i),f(ee(d[i].date,"yyyy-MM-dd hh:mm a"))};return e.jsx(Se,{children:e.jsxs(es,{className:"w-128",onClose:x,header:e.jsx("div",{children:"Schedule for Later"}),footer:e.jsxs("div",{className:"flex items-center justify-end gap-6",children:[e.jsx(b,{variant:"secondary",size:"lg",onClick:x,children:"Cancel"}),e.jsx(b,{size:"lg",onClick:()=>u(ee(d[c].date,"yyyy-MM-dd hh:mm a")),children:"Select"})]}),children:[e.jsx(cs,{}),e.jsx("div",{className:"grid gap-6 px-6 py-4",children:e.jsx("div",{className:"flex items-start gap-3 rounded-lg bg-gray-50 p-4",children:e.jsxs("div",{className:"grid gap-1 text-xs",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Schedule Timing"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Please note that all scheduled payments will be submitted on selected date starting from 9 AM (ET)."})]})})}),e.jsxs("div",{className:"grid px-2",children:[e.jsx("div",{className:"border-t border-gray-200 px-4 py-4 text-lg font-medium",children:"Recommended"}),e.jsx("div",{className:"pb-6",children:d.map((i,g)=>e.jsxs("div",{className:`flex justify-between items-center text-sm font-medium px-4 py-2 cursor-pointer hover:bg-gray-50 transition-all duration-300 ${c!==null&&g===c?"bg-gray-100":""}`,onClick:()=>v(g),children:[e.jsx("div",{children:i.label}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-gray-500",children:ee(i.date,"MMM dd, hh:mm a")}),c!==null&&g===c&&e.jsx(w,{icon:"check",className:"text-green-600 ml-2"})]})]},i.label))})]})]})})};function os(l){return l.payableSummary!==void 0}const ms=[{label:"Secondary Bank Account",value:"secondary",description:"Bank AG ••••1010",descriptionPosition:"below",rightValue:"$111,921.02"},{label:"Main Bank Account",value:"main",description:"Bank AG ••••1010",descriptionPosition:"below",rightValue:"$111,921.02"},{label:"Insurance Bank Account",value:"insurance",description:"Bank AG ••••1911",descriptionPosition:"below",rightValue:"$56,921.02",inactive:!0}],us=[{label:"ACH",value:"ach",description:"1–3 business days",badge:"Recommended"},{label:"Wire",value:"wire",description:"Same business day"},{label:"Pay with Card",value:"card"},{label:"SMART Disburse",value:"smart-disburse",iconImageSrc:ss,iconImageAlt:"SMART Disburse"},{label:"RTP",value:"rtp",inactive:!0,inactiveDescription:"Payment method is not available for this bank account. Please select another bank account or contact support for more information."},{label:"Check",value:"check",inactive:!0,inactiveDescription:"Payment method is not available for this bank account. Please select another bank account or contact support for more information."},{label:"SMART Exchange",value:"smart",inactive:!0,inactiveDescription:"Payment method is not available for this bank account. Please select another bank account or contact support for more information."}],xs=[{label:"Wells Fargo Account",value:"wells-fargo",description:"••••8419",descriptionPosition:"below",icon:"library"},{label:"Citibank Account",value:"citibank",description:"••••3674",descriptionPosition:"below",icon:"library"}],Z={iconImageSrc:Me,iconImageAlt:"Mastercard",iconImageClassName:"w-6 h-4"},hs=[{label:"Insurance #1 •••• 4708",value:"insurance-1",description:"Expires 12/2026",descriptionPosition:"below",rightValue:"$12,034.50",badge:"Single use",badgeColor:"gray",badgePosition:"inline",badgeSize:"sm",...Z},{label:"Insurance #4 •••• 4657",value:"insurance-4",description:"Expires 12/2026",descriptionPosition:"below",rightValue:"$23,050.00",badge:"Reloadable",badgeColor:"gray",badgeIcon:"information-circle",badgeIconDirection:"right",badgePosition:"inline",badgeSize:"sm",...Z},{label:"Online Purchases •••• 0011",value:"online-purchases",description:"Expires 12/2026",descriptionPosition:"below",rightValue:"$1,340.00",...Z},{label:"Universal #5 •••• 1021",value:"universal-5",description:"Expires 12/2026",descriptionPosition:"below",rightValue:"$1,340.00",...Z}],gs=[{label:"Match Payment",value:"match-payment",description:"Fund the virtual card with the exact payment amount.",descriptionPosition:"below"},{label:"Add Funds",value:"add-funds",description:"Fund this card with another specific amount.",descriptionPosition:"below"},{label:"Spend Balance",value:"spend-balance",description:"Make payment with existing money on the card.",descriptionPosition:"below",badge:"Not enough funds",badgeColor:"yellow",badgePosition:"inline",badgeSize:"sm",inactive:!0}],ps=[{value:"on-file",label:"Do nothing, card is on file with my vendor"},{value:"delivery",label:"Send securely via Delivery Website"},{value:"display",label:"Display the card details",hasInfo:!0}],bs=[{id:"email-1",type:"email",value:"gary@company.eu"},{id:"email-2",type:"email",value:"gary.kovalchek@mail.eu"},{id:"phone-1",type:"phone",value:"+1 357-22-13546",label:"Main Office"},{id:"phone-2",type:"phone",value:"+1 357-22-01546",label:"Finances Department"}],js=()=>{var ye;const{id:l}=Ye(),x=Ne(),[u,o]=a.useState(null),[c,m]=a.useState(null),[f,d]=a.useState(!1),[v,i]=a.useState(!1),[g,B]=a.useState(!1),[h,k]=a.useState(null),[V,ae]=a.useState(""),[y,j]=a.useState(""),[T,Ae]=a.useState(""),[z,te]=a.useState(""),[p,ne]=a.useState(""),[M,le]=a.useState(""),[F,Ie]=a.useState(""),[S,D]=a.useState(!1),[L,q]=a.useState(""),[n,_]=a.useState([]),[E,P]=a.useState(!1),[R,G]=a.useState(!1),t=a.useMemo(()=>se.find(s=>s.id===l),[l]),O=a.useMemo(()=>y==="card",[y]),ie=a.useMemo(()=>y==="ach"||y==="wire",[y]),Q=a.useMemo(()=>y==="smart-disburse",[y]),re=ie,ce=O,de=O,oe=O,me=a.useMemo(()=>O&&M==="delivery",[O,M]),[W,ue]=a.useState(0),xe=a.useCallback(s=>`$${s.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,[]),Be=a.useMemo(()=>p==="match-payment"?"$8,065.50":p==="add-funds"?xe(W):"$12,034.50",[p,W,xe]),Ee=a.useMemo(()=>p&&p!=="spend-balance"?"$20,100.00":"$12,034.50",[p]),he=a.useCallback(s=>{le(s),D(!1)},[]),ge=a.useMemo(()=>({hasEmail:n.some(s=>s.type==="email"),hasPhone:n.some(s=>s.type==="phone"),selectedIds:new Set(n.map(s=>s.id))}),[n]),pe=a.useMemo(()=>{const s=L.trim().toLowerCase(),{selectedIds:r,hasEmail:N,hasPhone:$}=ge;return bs.filter(C=>{var H,K;return r.has(C.id)||C.type==="email"&&N||C.type==="phone"&&$||!s&&!E?!1:s?C.value.toLowerCase().includes(s)||((H=C.label)==null?void 0:H.toLowerCase().includes(s))||((K=C.subLabel)==null?void 0:K.toLowerCase().includes(s)):!0})},[L,ge,E]),Ve=a.useCallback(s=>{_(r=>{const N=r.some(C=>C.type==="email"),$=r.some(C=>C.type==="phone");return s.type==="email"&&N||s.type==="phone"&&$?r:[...r,s]}),q(""),P(!1),D(!1)},[]),J=a.useCallback(s=>{_(r=>r.filter(N=>N.id!==s))},[]),Fe=a.useCallback(s=>{n.length<2&&(q(s.target.value),P(!0),D(!1))},[n.length]),Re=a.useCallback(()=>{G(!0),n.length<2&&P(!0)},[n.length]),Oe=a.useCallback(()=>{G(!1)},[]),Te=a.useCallback(s=>{s.stopPropagation(),n.length<2&&P(!0)},[n.length]),ze=a.useCallback(s=>{const r=n.length===2,N=L==="",$=n.length>0,C=s.key==="Delete"||s.key==="Backspace",H=s.key.length===1&&!s.ctrlKey&&!s.metaKey;if(C&&N&&$){s.preventDefault();const K=n[n.length-1];J(K.id),q(""),n.length>1&&P(!0)}r&&H&&s.preventDefault()},[L,n,J]),Le=a.useCallback(()=>{var s;n.length<2&&(P(!0),(s=document.getElementById("smart-disburse-input"))==null||s.focus())},[n.length]),$e=a.useCallback(()=>{var s;(s=document.getElementById("smart-disburse-input"))==null||s.focus(),n.length<2&&P(!0)},[n.length]),Ue=a.useMemo(()=>n.length===0&&!R?"Email address or phone number":"",[n.length,R]),qe=a.useMemo(()=>I("mt-1 flex flex-wrap items-center gap-2 rounded-md border bg-white px-3 py-2 shadow-sm text-base placeholder-gray-400","cursor-text",S&&n.length===0?"border-red-300 ring-1 ring-red-300":R||E?"border-blue-600 ring-1 ring-blue-600":"border-gray-300"),[S,n.length,R,E]),Y=a.useRef(null),X=a.useCallback(s=>{Y.current&&!Y.current.contains(s.target)&&(P(!1),G(!1))},[]);a.useEffect(()=>((E||R)&&document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}),[E,R,X]);const We=a.useCallback(()=>{t&&navigator.clipboard.writeText(t.billReference).then(()=>alert("Bill reference copied!")).catch(()=>alert("Failed to copy."))},[t]),He=a.useCallback(()=>{x(-1)},[x]),be=a.useCallback(s=>{if(!V||!y||re&&!T||ce&&!z||de&&!p||oe&&!M||me&&!F.trim()||Q&&n.length===0){D(!0);return}k(s),d(!0)},[V,y,re,T,ce,z,de,p,oe,M,me,F,Q,n.length]),Ke=a.useCallback(()=>{console.log("Processing payment:",h),d(!1),i(!0)},[h]),Ze=a.useCallback(()=>{d(!1),k(null)},[]),_e=a.useCallback(()=>{console.log("Cancelling payment:",h),i(!1),k(null)},[h]),Ge=a.useCallback(()=>{i(!1),k(null)},[]),fe=a.useCallback(s=>{k(s),B(!0)},[]),Qe=a.useCallback(()=>{console.log("Processing payment:",h),B(!1),k(null)},[h]),Je=a.useCallback(()=>{B(!1),k(null)},[]);return t?t.vendors&&t.vendors.length>0?e.jsx(ls,{payment:t}):e.jsx(Ce,{className:"max-w-7xl mx-auto",header:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{variant:"add_on",icon:"arrow-left",onClick:He}),e.jsx("span",{className:"text-lg font-medium text-gray-900 ml-4",children:"Initiate a Payment"})]}),e.jsx(we,{})]}),footer:e.jsxs("div",{className:"flex items-center gap-2 w-full justify-end",children:[e.jsxs(b,{size:"md",onClick:()=>be(t),children:["Pay: ",t.totalAmount]}),e.jsx(ve,{dueDate:t.dueDate,onSelectDate:o,selectedIndex:c,setSelectedIndex:m,handleChooseDataClick:()=>fe(t)})]}),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[e.jsx("span",{className:"text-gray-900",children:t.totalAmount})," ",e.jsx("span",{className:"text-gray-500",children:t.amountValute})]}),t.status==="unprocessed"&&e.jsx(A,{icon:"flag",iconDirection:"left",children:"Unprocessed"}),t.status==="processed"&&e.jsx(A,{color:"blue",icon:"in-progress",iconDirection:"left",children:"Processing"}),t.status==="paid"&&e.jsx(A,{color:"green",icon:"check-circle",iconDirection:"left",children:"Paid"}),t.status==="failed"&&e.jsx(A,{color:"red",icon:"check-circle",iconDirection:"left",children:"Failed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{size:"md",onClick:()=>be(t),children:["Pay: ",t.totalAmount]}),e.jsx(ve,{notification:!0,dueDate:t.dueDate,onSelectDate:o,selectedIndex:c,setSelectedIndex:m,handleChooseDataClick:()=>fe(t)})]})]}),u&&e.jsx("div",{className:"flex justify-end mt-2",children:e.jsxs("div",{className:"text-sm font-semibold inline-flex",children:[e.jsxs("div",{className:"px-2 flex items-center gap-1 text-gray-600 bg-gray-50 border border-gray-300 rounded-l-md",children:[e.jsx(w,{className:"w-4.5 h-4.5",icon:"calendar",variant:"outline"}),e.jsx("div",{className:"",children:"Schedule for:"})]}),e.jsxs("div",{className:"flex items-center border-y border-r border-gray-200 rounded-r-md",children:[e.jsx("div",{className:"text-blue-600 pl-2",children:u}),e.jsx(b,{size:"sm",icon:"x",variant:"add_on",onClick:()=>{o(null),m(null)}})]})]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 border-y border-gray-200 py-5",children:[e.jsxs("div",{className:"font-medium",children:[e.jsx("div",{className:"text-xs uppercase text-gray-500 mb-1 tracking-wider",children:"DUE DATE"}),e.jsx("span",{className:"text-base font-gray-700",children:t.dueDate})]}),e.jsx("div",{className:"flex h-auto w-px bg-gray-300"}),e.jsxs("div",{className:"font-medium",children:[e.jsx("div",{className:"text-xs uppercase text-gray-500 mb-1 tracking-wider",children:"VENDOR"}),e.jsx("span",{className:"text-base font-gray-700",children:t.payee})]}),e.jsx("div",{className:"flex h-auto w-px bg-gray-300"}),e.jsxs("div",{className:"font-medium",children:[e.jsx("div",{className:"text-xs uppercase text-gray-500 mb-1 tracking-wider",children:"Bill reference"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-base font-gray-700",children:t.billReference}),e.jsx(b,{size:"sm",variant:"add_on",icon:"clipboard-copy",onClick:We})]})]}),e.jsx("div",{className:"flex h-auto w-px bg-gray-300"}),e.jsxs("div",{className:"font-medium",children:[e.jsx("div",{className:"text-xs uppercase text-gray-500 mb-1 tracking-wider",children:"Attachments"}),e.jsx(A,{children:t.attachments})]})]}),e.jsxs("div",{className:"pt-6 pb-9 flex space-x-6",children:[e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"mb-4",children:e.jsx(U,{label:"Origination Account",labelIcon:"information-circle",placeholder:"Select account",options:ms,selectedValue:V,onSelect:s=>{ae(s),D(!1)},footerActionLabel:"Add New Bank Account",showInactiveBadge:!1,showInactiveNotice:!0,error:S&&!V,errorMessage:"Origination Account is required."})})}),e.jsx("div",{className:"mt-6 flex justify-center items-center min-w-10 h-10 w-10 rounded-full bg-gray-50 ring-2 ring-inset ring-gray-200",children:e.jsx(w,{icon:"arrow-right",className:"w-5 h-5 text-gray-400"})}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"mb-4",children:[e.jsx(U,{label:"Method of Payment",placeholder:"Select payment method",options:us,selectedValue:y,onSelect:s=>{j(s),te(""),ne(""),le(""),_([]),q(""),P(!1),D(!1)},showSelectedDescription:!1,error:S&&!y,errorMessage:"Method of Payment is required."}),ie&&e.jsxs("div",{className:"mt-4",children:[e.jsx(U,{label:"Bank Account",placeholder:"Select bank account",options:xs,selectedValue:T,onSelect:s=>{Ae(s),D(!1)},footerActionLabel:"Add new bank account",error:S&&!T,errorMessage:"Bank Account is required."}),T==="wells-fargo"&&e.jsxs("div",{className:"mt-4",children:[e.jsx(Pe,{}),e.jsx(De,{color:"blue",icon:"information-circle",title:'If your Routing Number, Account Number or Address records (as registered under the bank account) are no longer accurate, please update the details in your ERP. Once your details are updated, please "Refresh" to reflect the changes.'})]})]}),O&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"text-sm leading-5 text-gray-500",children:["By choosing this option you can get a cashback of"," ",e.jsx("span",{className:"text-green-500 font-medium",children:"+$201.00"})," ","USD."]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 leading-5",children:"Select a card to pay with"}),e.jsxs("button",{className:"text-xs font-semibold leading-4 cursor-pointer text-gray-900 inline-flex items-center gap-1 hover:text-gray-700 transition-colors duration-300",children:["Manage Cards",e.jsx(w,{icon:"arrow-right",className:"w-4 h-4 text-gray-400"})]})]}),e.jsx("div",{className:"mt-2.5 text-sm text-gray-500 leading-5",children:"Simply load your card with the amount of the invoice, and send the card to your customer for a hassle-free checkout experience."}),e.jsx("div",{className:"mt-4",children:e.jsx(U,{label:"Select a card",hideLabel:!0,placeholder:"Select a card",options:hs,selectedValue:z,onSelect:s=>{te(s),D(!1)},footerActionLabel:"Create New Card",showSelectedDescription:!0,error:S&&!z,errorMessage:"Card is required."})}),z&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded bg-gray-50 rounded-b-md",children:e.jsxs("div",{className:"flex items-center p-4 space-x-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Current Card Balance"}),e.jsx("div",{className:"text-sm text-gray-900",children:"$12,034.50"})]}),e.jsx("span",{className:"w-px h-11 bg-gray-200"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-1 text-sm font-medium text-gray-700",children:"Projected Balance"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[e.jsx("span",{children:Ee}),!(p==="match-payment"||p==="add-funds")&&e.jsx(w,{icon:"exclamation",className:"w-4 h-4 text-yellow-500"}),(p==="match-payment"||p==="add-funds")&&e.jsx(w,{icon:"check-circle",className:"w-4 h-4 text-green-500"})]})]})]})}),e.jsxs("div",{className:"mt-6 grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 leading-5",children:"Select Funding Method"}),e.jsx("div",{className:"mt-2",children:e.jsx(U,{label:"Funding method",hideLabel:!0,placeholder:"Funding method",options:gs,selectedValue:p,onSelect:s=>{ne(s),s==="add-funds"&&ue(0),D(!1)},showSelectedDescription:!1,showInactiveBadge:!1,dropdownClassName:"w-[350px]",error:S&&!p,errorMessage:"Funding method is required."})})]}),p&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 leading-5",children:"Funding Amount"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:I("flex items-center gap-2 rounded-md px-3 py-2 text-base border font-medium transition-all duration-300",p==="add-funds"&&W>0?"bg-white text-gray-900 border-blue-600 ring-1 ring-blue-600":"bg-gray-50 text-gray-400 border-gray-300"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"18",viewBox:"0 0 10 18",fill:"none",children:e.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 1C6 0.447715 5.55228 0 5 0C4.44772 0 4 0.447715 4 1V2.07498C1.65837 2.43371 0 4.03858 0 6C0 7.96142 1.65837 9.56629 4 9.92502V13.9249C3.28531 13.8122 2.77164 13.5905 2.42495 13.3873C2.17592 13.2413 1.7919 12.8893 1.7919 12.8893C1.45935 12.4578 0.840823 12.3714 0.402392 12.6982C-0.0404233 13.0283 -0.131083 13.6558 0.198966 14.0986C0.198966 14.0986 0.436208 14.3705 0.535403 14.4636C0.733832 14.6498 1.02284 14.8837 1.41356 15.1127C2.02986 15.474 2.8817 15.8126 4 15.9433V17C4 17.5523 4.44772 18 5 18C5.55228 18 6 17.5523 6 17V15.9411C7.13889 15.8009 8.05896 15.4132 8.74105 14.8135C9.62019 14.0405 10 13.0047 10 12C10 11.0588 9.72196 10.007 8.85124 9.20286C8.1687 8.57251 7.21875 8.18454 6 8.05167V4.10673C6.50059 4.22046 6.87137 4.40776 7.1328 4.58205C7.34307 4.72223 7.5403 4.88371 7.66856 5.05562C8.00012 5.5 8.59934 5.63563 9.0547 5.33205C9.51423 5.0257 9.6384 4.40483 9.33205 3.9453C9.28101 3.86873 9.12045 3.67298 9.0317 3.579C8.8544 3.39127 8.59443 3.15277 8.2422 2.91795C7.70319 2.55861 6.96224 2.21778 6 2.07298V1ZM4 4.10182C2.58485 4.41216 2 5.36373 2 6C2 6.63627 2.58485 7.58784 4 7.89818V4.10182ZM6 10.0673V13.9203C6.68377 13.8011 7.13397 13.5634 7.42044 13.3115C7.8208 12.9595 8 12.4953 8 12C8 11.4412 7.84175 10.993 7.49432 10.6721C7.23201 10.4299 6.77847 10.1828 6 10.0673Z",fill:"#9CA3AF"})}),e.jsx("input",{type:"text",value:Be,disabled:!0,className:"w-full bg-transparent outline-none"})]}),p==="add-funds"&&W===0&&e.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Deficit offset:"," ",e.jsx("button",{type:"button",className:"text-blue-600 font-semibold hover:text-blue-700 cursor-pointer transition-all duration-300",onClick:()=>ue(s=>s+8065.5),children:"$8,065.50"})]})]})]})]}),e.jsxs("div",{className:"mt-10",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 leading-5",children:"Sending Method"}),e.jsx("div",{className:"mt-1 grid gap-2.5",children:ps.map(s=>{const r=M===s.value;return e.jsxs("div",{className:"rounded-md bg-gray-50 overflow-hidden cursor-pointer",onClick:()=>he(s.value),children:[e.jsx(as,{type:"radio",name:"sendingMethod",checked:r,onChange:()=>{he(s.value)},wrapperClassName:"flex items-center gap-2.5 p-4 cursor-pointer",labelClassName:"text-sm text-gray-900 font-medium leading-5",label:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:s.value==="delivery"&&r?"Send the card details via email or SMS":s.label}),s.hasInfo&&e.jsx(w,{icon:"information-circle",className:"w-3.5 h-3.5 text-gray-400"})]})}),s.value==="delivery"&&r&&e.jsxs("div",{className:"px-4 pb-4 grid gap-4",children:[e.jsx("div",{className:"text-sm text-gray-500 leading-5",children:"Provide your payee's email address and/or phone number where the card token will be sent to."}),e.jsxs("div",{className:"grid gap-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 leading-5",children:"Contact Addresses"}),e.jsx("input",{type:"text",value:F,onChange:N=>{Ie(N.target.value),D(!1)},className:I("w-full rounded-md border bg-white px-3 py-2 text-sm text-gray-900 outline-none",S&&M==="delivery"&&!F.trim()?"border-red-300":"border-gray-200")}),S&&M==="delivery"&&!F.trim()&&e.jsx("div",{className:"text-sm text-red-500",children:"Contact address is required."})]})]}),s.value==="display"&&r&&e.jsx("div",{className:"px-4 pb-4 text-sm text-gray-500 leading-5",children:"Please note that card details will be shown on the final payment confirmation page after finalizing this invoice for you to send manually."})]},s.value)})}),S&&!M&&e.jsx("div",{className:"mt-2 text-sm text-red-500",children:"Sending method is required."})]})]})]}),Q&&e.jsx("div",{className:"mt-4 rounded-lg border border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("div",{className:"text-sm leading-5 font-medium text-gray-900",children:"Where would you like to send the payment link?"}),e.jsx("div",{className:"mt-2.5 text-sm leading-5 text-gray-500",children:"Provide your payee's email address and/or phone number where the SMART Disburse payment token will be sent to."}),e.jsx("div",{className:"mt-4 text-sm font-medium leading-5 text-gray-700 cursor-pointer",onClick:Le,children:"Contact Addresses"}),e.jsxs("div",{className:"relative",ref:Y,children:[e.jsxs("div",{className:qe,onClick:$e,children:[n.map(s=>e.jsxs("span",{tabIndex:0,role:"button",className:"inline-flex items-center gap-0.5 rounded-full border border-gray-200 bg-gray-50 px-1 py-0.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",onClick:r=>r.stopPropagation(),onKeyDown:r=>{(r.key==="Delete"||r.key==="Backspace")&&(r.preventDefault(),r.stopPropagation(),J(s.id),setTimeout(()=>{var N;(N=document.getElementById("smart-disburse-input"))==null||N.focus()},0))},children:[e.jsx(w,{icon:s.type==="email"?"mail":"phone",className:"h-3.5 w-3.5 text-gray-400"}),e.jsx("span",{className:"text-gray-900 text-sm leading-5",children:s.value})]},s.id)),e.jsx("input",{id:"smart-disburse-input",type:"text",value:L,readOnly:n.length===2,onChange:Fe,onFocus:Re,onBlur:Oe,onClick:Te,onKeyDown:ze,className:"min-w-[200px] flex-1 bg-transparent text-sm text-gray-900 outline-none cursor-text",placeholder:Ue})]}),S&&n.length===0&&e.jsx("div",{className:"mt-1 text-sm text-red-500",children:"Contact address is required."}),E&&pe.length>0&&e.jsx("div",{className:"absolute left-0 right-0 z-10 mt-1 py-1 rounded-md bg-white shadow-lg max-h-60 overflow-y-auto",children:pe.map(s=>e.jsxs("button",{type:"button",className:"flex w-full cursor-pointer items-center gap-3 p-4 text-left text-base hover:bg-gray-100 transition-colors duration-300",onClick:()=>Ve(s),children:[e.jsx(w,{icon:s.type==="email"?"mail":"phone",className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-900",children:s.value}),s.label&&e.jsx("span",{className:"text-gray-500",children:s.label})]})]},s.id))})]})]})})]})})]}),e.jsxs("div",{className:"flex flex-col",children:[os(t)&&e.jsx(je,{title:"Payable Summary",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b border-dashed border-gray-200",children:e.jsxs("tr",{className:"text-gray-500 text-xs tracking-wider uppercase",children:[e.jsxs("th",{className:"font-medium text-left py-2 px-6",children:["item (",t.payableSummary.length,")"]}),e.jsx("th",{className:"font-medium text-left py-2 px-6",children:"quantity"}),e.jsx("th",{className:"font-medium text-right py-2 px-6",children:"unit price"}),e.jsx("th",{className:"font-medium text-right py-2 px-6",children:"amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.payableSummary.map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-2 text-sm whitespace-nowrap text-left max-w-64 overflow-hidden text-ellipsis",children:s.item}),e.jsx("td",{className:"px-6 py-2 text-sm whitespace-nowrap text-left",children:s.quantity}),e.jsxs("td",{className:"px-6 py-2 text-sm whitespace-nowrap text-right",children:[s.price,e.jsx("span",{className:"pl-1 uppercase text-gray-500",children:"USD"})]}),e.jsxs("td",{className:"px-6 py-2 text-sm whitespace-nowrap text-right",children:[s.amount,e.jsx("span",{className:"pl-1 uppercase text-gray-500",children:"USD"})]})]},r))})]})}),t.unprocessed&&e.jsx(je,{title:"Activity log",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"mr-4 pt-1.5",children:e.jsx(w,{icon:"flag",className:"h-3.5 w-3.5 text-gray-500"})}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-base font-medium",children:"Unprocessed"}),e.jsx("div",{className:"mt-1 text-sm text-gray-700",children:e.jsxs("div",{children:["Payment for payable ID ",e.jsx("a",{className:"text-smart-main hover:text-smart-main-darken hover:underline",href:"#",children:"#2345REQ3"})," is pending initiation on 04/22/2022"]})}),e.jsx("div",{className:"mt-1 text-xs font-medium text-gray-400",children:(ye=t.unprocessed)==null?void 0:ye.date})]})]})}),t.vendors&&e.jsx(ke,{payment:t})]}),e.jsxs("div",{children:[e.jsx(is,{open:f,onClose:Ze,onConfirm:Ke,paymentMethod:y,sendingMethod:M,contactEmail:F,smartDisburseContacts:n}),e.jsx(ns,{open:v,onClose:Ge,handlePaymentSubmittedClick:_e}),e.jsx(ds,{open:g,onClose:Je,onConfirm:Qe,dueDate:t.dueDate||"",selectedIndex:c,setSelectedIndex:m,onSelectDate:o})]})]})}):e.jsx("div",{className:"p-6 text-red-500",children:"Payment not found"})};export{js as default};
